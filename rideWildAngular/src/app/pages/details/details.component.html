<div class="details-container" *ngIf="product; else loadingOrError">

  <div class="image-section">
    <img #productImage src="/images/placeholderbike.jpg" alt="Immagine prodotto" class="product-image"
      (click)="toggleZoom()" (mousedown)="onMouseDown($event)" (mousemove)="onMouseMove($event)" (mouseup)="onMouseUp()"
      (mouseleave)="onMouseLeave()" [style.transform]="
        zoom > 1
          ? 'scale(' + zoom + ') translate(' + translateX + 'px, ' + translateY + 'px)'
          : 'none'
      " />
  </div>

  <div class="info-section">
    <h2>Dettaglio prodotto: {{ product.name }}</h2>
    <p><strong>Codice prodotto:</strong> {{ product.productNumber }}</p>
    <p><strong>Colore:</strong> {{ product.color || 'N/A' }}</p>
    <p><strong>Prezzo:</strong> €{{ product.listPrice }}</p>

    <!-- Contatore quantità -->
    <div class="quantity-control">
      <button class="quantity-button" (click)="decreaseQuantity()">−</button>
      <div class="quantity-display">{{ quantity }}</div>
      <button class="quantity-button" (click)="increaseQuantity()">+</button>
    </div>

    <div class="buttons">
      <button class="btn wishlist-btn" (click)="addToWishlist(product)">Aggiungi alla lista desideri</button>
      <button class="btn buy-btn" (click)="buyNow(product)">Compra subito</button>
      <button class="back-button" (click)="goBack()" aria-label="Torna allo shop" title="Torna allo shop">
        ← Torna allo shop
      </button>
    </div>

    <div *ngIf="message" class="notification-message">
      {{ message }}
    </div>
  </div>
</div>

<ng-template #loadingOrError>
  <p class="loading-message">Caricamento in corso o prodotto non trovato...</p>
</ng-template>

<ng-template #loadingOrError>
  <p class="loading-message">Caricamento in corso o prodotto non trovato...</p>
</ng-template>


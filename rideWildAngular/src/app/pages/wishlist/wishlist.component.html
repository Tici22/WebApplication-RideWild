<!-- LOADER BICI -->
<div class="loader-overlay" *ngIf="isLoading">
  <svg class="bike" viewBox="0 0 48 30" width="96" height="60" aria-label="Loading animation" role="img">
    <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1">
      <g transform="translate(9.5,19)">
        <circle class="bike__tire" r="9" stroke-dasharray="56.549 56.549" />
        <g class="bike__spokes-spin" stroke-dasharray="31.416 31.416" stroke-dashoffset="-23.562">
          <circle class="bike__spokes" r="5" />
          <circle class="bike__spokes" r="5" transform="rotate(180,0,0)" />
        </g>
      </g>
      <g transform="translate(24,19)">
        <g class="bike__pedals-spin" stroke-dasharray="25.133 25.133" stroke-dashoffset="-21.991"
          transform="rotate(67.5,0,0)">
          <circle class="bike__pedals" r="4" />
          <circle class="bike__pedals" r="4" transform="rotate(180,0,0)" />
        </g>
      </g>
      <g transform="translate(38.5,19)">
        <circle class="bike__tire" r="9" stroke-dasharray="56.549 56.549" />
        <g class="bike__spokes-spin" stroke-dasharray="31.416 31.416" stroke-dashoffset="-23.562">
          <circle class="bike__spokes" r="5" />
          <circle class="bike__spokes" r="5" transform="rotate(180,0,0)" />
        </g>
      </g>
      <polyline class="bike__seat" points="14 3,18 3" stroke-dasharray="5 5" />
      <polyline class="bike__body" points="16 3,24 19,9.5 19,18 8,34 7,24 19" stroke-dasharray="79 79" />
      <path class="bike__handlebars" d="m30,2h6s1,0,1,1-1,1-1,1" stroke-dasharray="10 10" />
      <polyline class="bike__front" points="32.5 2,38.5 19" stroke-dasharray="19 19" />
    </g>
  </svg>
</div>

<!-- Contenuto wishlist solo se non sto caricando -->
<div *ngIf="!isLoading">

  <div class="wishlist-container" *ngIf="wishlist.length > 0; else emptyWishlist">
      <h2 class="text-center text-white">La tua lista desideri</h2>
      <div class="wishlist-grid">
          <div class="wishlist-card" *ngFor="let product of wishlist">
              <img src="/images/placeholderbike.jpg" alt="{{ product.name }}" />
              <h3 class="text-center text-white">{{ product.name }}</h3>
              <p class="text-center text-white">Codice: {{ product.productNumber }}</p>
              <p class="text-center text-white">Prezzo: â‚¬{{ product.listPrice }}</p>
              <button (click)="removeFromWishlist(product.productId)">Rimuovi</button>
          </div>
      </div>
  </div>

  <div class="counter">
      <p class="text-center text-white fs-3" *ngIf="wishlist.length > 0">Prodotti nella lista desideri: {{ wishlist.length }}</p>

      <div class="clearwishlist text-center" *ngIf="wishlist.length > 0">
          <button (click)="clearWishlist()" class="btnClear text-center">Svuota la lista desideri</button>
      </div>
  </div>

  <ng-template #emptyWishlist>
      <p class="text-center text-white fs-3 Nothing">Non hai ancora aggiunto prodotti alla lista desideri.</p>
  </ng-template>

</div>
